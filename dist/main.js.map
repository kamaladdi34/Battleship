{"version":3,"file":"main.js","mappings":"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","sources":["webpack://battleship/./src/gameBoard.js","webpack://battleship/./src/gameManager.js","webpack://battleship/./src/player.js","webpack://battleship/./src/ship.js","webpack://battleship/webpack/bootstrap","webpack://battleship/./src/DOMmanager.js"],"sourcesContent":["const Ship = require(\"./ship\");\n\nclass Cell {\n  constructor() {\n    this.ship = null;\n    this.isHit = false;\n  }\n}\n\nclass GameBoard {\n  #board = null;\n  #ships = [];\n  #Allowedships = [\n    new Ship(5),\n    new Ship(4),\n    new Ship(3),\n    new Ship(3),\n    new Ship(2),\n  ];\n  constructor(size) {\n    this.generateBoard(size);\n  }\n\n  placeShip(coordinates, shipLength, isVertical = false) {\n    let { x, y } = coordinates;\n    return new Promise((resolve, reject) => {\n      if (!this.#checkCoordinates(coordinates)) {\n        reject(\"Coordinates out of range\");\n        return;\n      }\n      if (this.#board[x][y].ship !== null) {\n        reject(\"Target coordinates not empty\");\n        return;\n      }\n      if (!this.#checkForSpace(coordinates, shipLength, isVertical)) {\n        reject(\"Not enough space\");\n        return;\n      }\n      let newShip = this.#getShip(shipLength);\n      if (!newShip) {\n        reject(\"No ship found\");\n      }\n      if (!isVertical) {\n        for (let i = 0; i < shipLength; i++) {\n          this.#board[x][y + i].ship = newShip;\n        }\n      } else {\n        for (let i = 0; i < shipLength; i++) {\n          this.#board[x + i][y].ship = newShip;\n        }\n      }\n      resolve(newShip);\n      this.#ships.push(newShip);\n    });\n  }\n\n  #getShip(shipLength) {\n    for (let i = 0; i < this.#Allowedships.length; i++) {\n      if (this.#Allowedships[i].length == shipLength) {\n        return this.#Allowedships.splice(i, 1)[0];\n      }\n    }\n  }\n\n  #checkForSpace(coordinates, shipLength, isVertical) {\n    let { x, y } = coordinates;\n    let canPlaceShip = true;\n    if (!isVertical) {\n      for (let i = 0; i < shipLength; i++) {\n        let coords = { x: x, y: y + i };\n        if (\n          !this.#checkCoordinates(coords) ||\n          this.#board[x][y + i].ship !== null\n        ) {\n          canPlaceShip = false;\n        }\n      }\n    } else {\n      for (let i = 0; i < shipLength; i++) {\n        let coords = { x: x + i, y: y };\n        if (\n          !this.#checkCoordinates(coords) ||\n          this.#board[x + i][y].ship !== null\n        ) {\n          canPlaceShip = false;\n        }\n      }\n    }\n    return canPlaceShip;\n  }\n  getBoard() {\n    return this.#board;\n  }\n  #coordinatesInRange(coordinates) {\n    let { x, y } = coordinates;\n    return !(\n      x < 0 ||\n      y < 0 ||\n      x >= this.#board.length ||\n      y >= this.#board.length\n    );\n  }\n\n  #checkCoordinates(coordinates) {\n    if (!(\"x\" in coordinates) || !(\"y\" in coordinates)) {\n      return false;\n    }\n    if (isNaN(coordinates.x) || isNaN(coordinates.y)) {\n      return false;\n    }\n    if (!this.#coordinatesInRange(coordinates)) {\n      return false;\n    }\n    return true;\n  }\n\n  receiveAttack(coordinates) {\n    let { x, y } = coordinates;\n    if (!this.#checkCoordinates(coordinates)) {\n      return;\n    }\n    if (this.#board[x][y].isHit == true) {\n      return { success: false, shipHit: false, error: \"Cell already hit\" };\n    }\n    this.#board[x][y].isHit = true;\n\n    if (this.#board[x][y].ship == null) {\n      return { success: true, shipHit: false, error: null };\n    }\n\n    this.#board[x][y].ship.hit();\n    return { success: true, shipHit: true, error: null };\n  }\n\n  allShipsAreSunk() {\n    let allAreSunk = true;\n    for (let i = 0; i < this.#ships.length; i++) {\n      if (!this.#ships[i].isSunk()) {\n        allAreSunk = false;\n      }\n    }\n    return allAreSunk;\n  }\n  allShipsPlaced() {\n    return this.#Allowedships.length == 0;\n  }\n  getCell(coordinates) {\n    return this.#board[coordinates.x][coordinates.y];\n  }\n\n  generateBoard(size) {\n    this.#board = new Array(size)\n      .fill(\"\")\n      .map((_) => new Array(size).fill(\"\").map((_) => new Cell()));\n  }\n}\n\nmodule.exports = GameBoard;\n","const GameBoard = require(\"./gameBoard\");\nconst Player = require(\"./player\");\n\nclass GameManager {\n  #gameStarted = false;\n  #playerTurn = true;\n  #playerBoard = null;\n  #otherBoard = null;\n\n  constructor() {\n    this.player = null;\n    this.otherPlayer = null;\n  }\n\n  get gameStarted() {\n    return this.#gameStarted;\n  }\n\n  newGame(boardSize, players) {\n    return new Promise((resolve, reject) => {\n      if (!boardSize || !players || boardSize <= 0) {\n        reject(\"Incorrect game info\");\n      }\n\n      this.player = new Player(players[0].name, players[0].isComputer);\n      this.otherPlayer = new Player(players[1].name, players[1].isComputer);\n      this.#playerBoard = new GameBoard(boardSize);\n      this.#otherBoard = new GameBoard(boardSize);\n\n      this.#playerBoard.placeShip({ x: 0, y: 3 }, 5);\n      this.#playerBoard.placeShip({ x: 1, y: 3 }, 4);\n      this.#playerBoard.placeShip({ x: 2, y: 2 }, 3);\n      this.#playerBoard.placeShip({ x: 3, y: 5 }, 3);\n      this.#playerBoard.placeShip({ x: 4, y: 0 }, 2, true);\n\n      this.#otherBoard.placeShip({ x: 0, y: 0 }, 5);\n      this.#otherBoard.placeShip({ x: 1, y: 0 }, 4);\n      this.#otherBoard.placeShip({ x: 2, y: 0 }, 3);\n      this.#otherBoard.placeShip({ x: 3, y: 0 }, 3);\n      this.#otherBoard.placeShip({ x: 4, y: 0 }, 2);\n      resolve(\"Game initiated\");\n    });\n  }\n\n  startGame() {\n    if (this.#gameStarted) {\n      return;\n    }\n    if (!this.#playerBoard || !this.#otherBoard) {\n      return false;\n    }\n    return (this.#gameStarted =\n      this.#playerBoard.allShipsPlaced() && this.#otherBoard.allShipsPlaced());\n  }\n\n  playTurn(coordinates) {\n    if (!this.#gameStarted) {\n      return;\n    }\n    if (this.#playerTurn) {\n      let result = this.#otherBoard.receiveAttack(coordinates);\n      if (!result.error) {\n        this.#playerTurn = false;\n      }\n      return result;\n    } else {\n      let result = this.#playerBoard.receiveAttack(coordinates);\n      if (!result.error) {\n        this.#playerTurn = true;\n      }\n      return result;\n    }\n  }\n\n  getPlayerBoard() {\n    return this.#getBoardInfo(this.#playerBoard.getBoard());\n  }\n\n  getOtherBoard() {\n    return this.#getBoardInfo(this.#otherBoard.getBoard());\n  }\n\n  checkForWinner() {\n    if (this.#playerBoard.allShipsAreSunk()) {\n      return this.otherPlayer;\n    }\n    if (this.#otherBoard.allShipsAreSunk()) {\n      return this.player;\n    }\n  }\n\n  #getBoardInfo(targetBoard) {\n    let board = new Array(10).fill(\"\").map((_) => new Array(10).fill(\"\"));\n    for (let i = 0; i < targetBoard.length; i++) {\n      for (let j = 0; j < targetBoard[i].length; j++) {\n        let content = \"empty\";\n        let cell = targetBoard[i][j];\n        if (!cell.isHit && cell.ship == null) {\n          content = \"empty\";\n        }\n        if (cell.isHit && cell.ship == null) {\n          content = \"miss\";\n        }\n        if (cell.isHit && cell.ship != null) {\n          content = \"hit\";\n        }\n        if (!cell.isHit && cell.ship != null) {\n          content = \"ship\";\n        }\n        board[i][j] = content;\n      }\n    }\n    return board;\n  }\n}\nmodule.exports = GameManager;\n","class Player {\n  constructor(name = \"player\", isComputer = false) {\n    this.name = name;\n    this.isComputer = isComputer;\n  }\n}\nmodule.exports = Player;\n","class Ship {\n  #hits = 0;\n  constructor(length) {\n    this.length = this.#setLength(length);\n  }\n\n  hit() {\n    if (!this.isSunk()) this.#hits++;\n  }\n\n  isSunk() {\n    return this.#hits >= this.length;\n  }\n\n  get hits() {\n    return this.#hits;\n  }\n\n  #setLength(length) {\n    if (isNaN(length)) {\n      return 1;\n    }\n    let shipLength = Math.floor(Math.abs(length));\n    if (shipLength == 0) {\n      return 1;\n    }\n    return shipLength;\n  }\n}\n\nmodule.exports = Ship;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const GameManager = require(\"./gameManager.js\");\nconst boardsContainer = document.querySelector(\".boards-container\");\nconst formButton = document.querySelector(\".player-info > button\");\nconst playerNameInput = document.querySelector(\".player-info > #player-name\");\nconst otherNameInput = document.querySelector(\".player-info > #other-name\");\nconst info = document.querySelector(\"body > h3\");\nlet gameManager = null;\nlet playerBoardDOM = null;\nlet otherPlayerBoardDOM = null;\nformButton.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n  let playerName = playerNameInput.value;\n  let otherName = otherNameInput.value;\n  if (!playerName) {\n    playerNameInput.reportValidity();\n    console.log(\"wo\");\n    return;\n  }\n  if (!otherName) {\n    otherNameInput.reportValidity();\n    return;\n  }\n  let players = [\n    { name: playerName, isComputer: false },\n    { name: otherName, isComputer: true },\n  ];\n  newGame(players);\n});\ndocument.addEventListener(\"click\", (event) => {\n  if (event.target.parentNode.id == \"other\") {\n    let coords = event.target.getAttribute(\"data-coordinates\").split(\":\");\n    playTurn(coords);\n  }\n});\n\nfunction newGame(players) {\n  gameManager = new GameManager();\n  boardsContainer.innerHTML = \"\";\n  gameManager.newGame(10, players);\n  gameManager.startGame();\n\n  playerBoardDOM = createBoardDOM(10, \"player\");\n  otherPlayerBoardDOM = createBoardDOM(10, \"other\");\n\n  updateBoardDom(gameManager.getPlayerBoard(), playerBoardDOM, true);\n  updateBoardDom(gameManager.getOtherBoard(), otherPlayerBoardDOM);\n}\n\nfunction createBoardDOM(size, id) {\n  let boardDOM = new Array(size).fill(\"\").map((_) => new Array(size).fill(\"\"));\n\n  let board = document.createElement(\"div\");\n  board.id = id;\n  board.classList.add(\"board\");\n  let cells = [];\n  for (let i = 0; i < size; i++) {\n    let row = [];\n    for (let j = 0; j < size; j++) {\n      let cell = document.createElement(\"div\");\n      cell.classList.add(\"cell\");\n      cell.setAttribute(\"data-coordinates\", `${i}:${j}`);\n      boardDOM[i][j] = cell;\n      row.push(cell);\n    }\n    cells.push(row);\n  }\n  cells.reverse();\n  cells = formatArray(cells);\n  board.append(...cells);\n  boardsContainer.appendChild(board);\n  return boardDOM;\n}\n\nfunction playTurn(coords) {\n  let result = gameManager.playTurn({ x: coords[0], y: coords[1] });\n  if (result.error) {\n    return;\n  }\n\n  gameManager.playTurn(getComputerCoordinates());\n  updateBoardDom(gameManager.getOtherBoard(), otherPlayerBoardDOM);\n  updateBoardDom(gameManager.getPlayerBoard(), playerBoardDOM, true);\n  let winner = gameManager.checkForWinner();\n  if (winner) {\n    console.log(winner);\n    info.innerText = `🎉 Winner is ${winner.name}`;\n  }\n}\nlet computerCoords = [];\nfunction getComputerCoordinates() {\n  let coordinates = generateCoordinates();\n  while (checkCoordinates(coordinates)) {\n    coordinates = generateCoordinates();\n  }\n  computerCoords.push(coordinates);\n  return coordinates;\n}\nfunction checkCoordinates(coords) {\n  let included = false;\n  for (let coordinates of computerCoords) {\n    if (coordinates.x == coords.x && coordinates.y == coords.y) {\n      included = true;\n    }\n  }\n  return included;\n}\nfunction generateCoordinates() {\n  let x = Math.floor(Math.random() * 10);\n  let y = Math.floor(Math.random() * 10);\n  return { x, y };\n}\nfunction formatArray(array) {\n  let result = [];\n  for (let i = 0; i < array.length; i++) {\n    result.push(...array[i]);\n  }\n  return result;\n}\n\nfunction updateBoardDom(board, boardDOM, displayships = false) {\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board[i].length; j++) {\n      let content = board[i][j];\n      if (content == \"ship\" && displayships) {\n        boardDOM[i][j].classList.add(\"ship\");\n      }\n      if (content == \"hit\") {\n        boardDOM[i][j].classList.add(\"hit\");\n      }\n      if (content == \"miss\") {\n        boardDOM[i][j].classList.add(\"miss\");\n      }\n    }\n  }\n}\n"],"names":["Ship","Cell","constructor","this","ship","isHit","module","exports","size","generateBoard","placeShip","coordinates","shipLength","isVertical","x","y","Promise","resolve","reject","newShip","i","push","length","splice","canPlaceShip","coords","getBoard","isNaN","receiveAttack","success","shipHit","error","hit","allShipsAreSunk","allAreSunk","isSunk","allShipsPlaced","getCell","Array","fill","map","_","GameBoard","Player","player","otherPlayer","gameStarted","newGame","boardSize","players","name","isComputer","startGame","playTurn","result","getPlayerBoard","getOtherBoard","checkForWinner","targetBoard","board","j","content","cell","hits","Math","floor","abs","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","GameManager","boardsContainer","document","querySelector","formButton","playerNameInput","otherNameInput","info","gameManager","playerBoardDOM","otherPlayerBoardDOM","createBoardDOM","id","boardDOM","createElement","classList","add","cells","row","setAttribute","reverse","array","formatArray","append","appendChild","addEventListener","event","preventDefault","playerName","value","otherName","reportValidity","console","log","innerHTML","updateBoardDom","target","parentNode","generateCoordinates","checkCoordinates","computerCoords","getComputerCoordinates","winner","innerText","getAttribute","split","included","random","displayships"],"sourceRoot":""}